
{% extends "base.html" %} {% block content %} <!-- Modern Profile Card --> <div class="card shadow-sm border-0 mb-4"> <div class="card-body d-flex align-items-center"> <!-- Profile Picture --> <div class="me-4"> <img src="https://ui-avatars.com/api/?name={{ current_user.username }}&size=80&background=0d6efd&color=fff&bold=true" alt="Profile" class="rounded-circle border border-3 border-primary" width="80" height="80"> </div> <!-- User Details --> <div class="flex-grow-1"> <h4 class="mb-1 fw-bold text-primary">Welcome back, {{ current_user.username }}!</h4> <p class="mb-1 text-muted"> <i class="fas fa-envelope me-1"></i> {{ current_user.email }} </p> <p class="mb-1"> <span class="badge bg-info text-dark"> <i class="fas fa-user-tag me-1"></i> {{ current_user.role|title }} </span> </p> <p class="text-muted small mb-0"> <i class="fas fa-calendar me-1"></i> Member since {{ current_user.created_at.strftime('%Y-%m-%d') }} </p> </div> </div> </div> <!-- Action Buttons (horizontal layout) --> <div class="d-flex gap-2 mb-4 flex-wrap"> <a href="{{ url_for('report_lost_item') }}" class="btn btn-danger flex-fill"> <i class="fas fa-exclamation-triangle me-1"></i> Report Lost Item </a> <a href="{{ url_for('report_found_item') }}" class="btn btn-success flex-fill"> <i class="fas fa-check2-circle me-1"></i> Report Found Item </a> <a href="{{ url_for('claim') }}" class="btn btn-primary flex-fill"> <i class="fas fa-gavel me-1"></i> Claim an Item </a> </div> <!-- Content Sections --> <div class="row"> <div class="col-md-6"> <div class="modern-card mb-4 slide-in-right"> <div class="modern-card-header"> <h5 class="mb-0"> <i class="fas fa-exclamation-triangle text-danger me-2"></i>My Lost Items </h5> </div> <div class="card-body"> {% if user_lost_items %} <div class="row"> {% for item in user_lost_items %} <div class="col-12 mb-3"> <div class="card border"> <div class="card-body"> <div class="row"> {% if item.photo_filename %} <div class="col-md-3"> <img src="{{ url_for('uploaded_file', filename=item.photo_filename) }}" alt="{{ item.item_name }}" class="img-fluid rounded"> </div> {% endif %} <div class="col"> <h6 class="card-title">{{ item.item_name }}</h6> <p class="text-muted mb-1"> <i class="fas fa-tag me-1"></i>{{ item.category }} </p> <p class="text-muted mb-1"> <i class="fas fa-map-marker-alt me-1"></i>{{ item.location }} </p> <p class="text-muted mb-2"> <i class="fas fa-calendar me-1"></i>{{ item.created_at.strftime('%Y-%m-%d') }} </p> <span class="badge bg-{{ 'success' if item.status == 'claimed' else 'warning' if item.status == 'active' else 'secondary' }}"> {{ item.status|title }} </span> <a href="{{ url_for('lost_item_detail', item_id=item.id) }}" class="btn btn-sm btn-primary float-end"> <i class="fas fa-eye me-1"></i>View </a> </div> </div> </div> </div> </div> {% endfor %} </div> {% else %} <p class="text-muted text-center">You haven't reported any lost items yet.</p> {% endif %} </div> </div> </div> <div class="col-md-6"> <div class="card mb-4"> <div class="card-header"> <h5 class="mb-0"> <i class="fas fa-hand-holding-heart text-success me-2"></i>My Found Items </h5> </div> <div class="card-body"> {% if user_found_items %} <div class="row"> {% for item in user_found_items %} <div class="col-12 mb-3"> <div class="card border"> <div class="card-body"> <div class="row"> {% if item.photo_filename %} <div class="col-md-3"> <img src="{{ url_for('uploaded_file', filename=item.photo_filename) }}" alt="{{ item.item_name }}" class="img-fluid rounded"> </div> {% endif %} <div class="col"> <h6 class="card-title">{{ item.item_name }}</h6> <p class="text-muted mb-1"> <i class="fas fa-tag me-1"></i>{{ item.category }} </p> <p class="text-muted mb-1"> <i class="fas fa-map-marker-alt me-1"></i>{{ item.location }} </p> <p class="text-muted mb-1"> <i class="fas fa-home me-1"></i>{{ item.current_location }} </p> <p class="text-muted mb-2"> <i class="fas fa-calendar me-1"></i>{{ item.created_at.strftime('%Y-%m-%d') }} </p> <span class="badge bg-{{ 'success' if item.status == 'claimed' else 'warning' if item.status == 'active' else 'secondary' }}"> {{ item.status|title }} </span> <a href="{{ url_for('found_item_detail', item_id=item.id) }}" class="btn btn-sm btn-primary float-end"> <i class="fas fa-eye me-1"></i>View </a> </div> </div> </div> </div> </div> {% endfor %} </div> {% else %} <p class="text-muted text-center">You haven't reported any found items yet.</p> {% endif %} </div> </div> </div> </div> <div class="row"> <div class="col-md-6"> <div class="card mb-4"> <div class="card-header"> <h5 class="mb-0"> <i class="fas fa-gavel text-primary me-2"></i>My Claims </h5> </div> <div class="card-body"> {% if user_claims %} {% for claim in user_claims %} <div class="card border mb-3"> <div class="card-body"> <h6 class="card-title">Claim for {{ claim.item_type }} item</h6> <p class="text-muted mb-2">{{ claim.description }}</p> <p class="text-muted mb-2"> <i class="fas fa-calendar me-1"></i>{{ claim.created_at.strftime('%Y-%m-%d') }} </p> <span class="badge bg-{{ 'success' if claim.status == 'approved' else 'danger' if claim.status == 'rejected' else 'warning' }}"> {{ claim.status|title }} </span> {% if claim.admin_notes %} <div class="mt-2"> <small class="text-muted"> <i class="fas fa-comment me-1"></i>{{ claim.admin_notes }} </small> </div> {% endif %} </div> </div> {% endfor %} {% else %} <p class="text-muted text-center">You haven't submitted any claims yet.</p> {% endif %} </div> </div> </div> <div class="col-md-6"> <div class="card mb-4"> <div class="card-header"> <h5 class="mb-0"> <i class="fas fa-history text-info me-2"></i>Recent Activity </h5> </div> <div class="card-body"> {% if user_activities %} {% for activity in user_activities %} <div class="card border mb-3"> <div class="card-body"> <h6 class="card-title">{{ activity.action|title }}</h6> <p class="text-muted mb-2">{{ activity.details or 'No details' }}</p> <small class="text-muted"> <i class="fas fa-clock me-1"></i>{{ activity.created_at.strftime('%Y-%m-%d %H:%M') }} </small> </div> </div> {% endfor %} {% else %} <p class="text-muted text-center">No recent activity.</p> {% endif %} </div> </div> </div> </div> <div class="row"> <div class="col-12"> <div class="card"> <div class="card-header"> <h5 class="mb-0"> <i class="fas fa-cogs me-2"></i>Quick Actions </h5> </div> <div class="card-body"> <div class="row g-3"> <div class="col-md-3 col-sm-6"> <a href="{{ url_for('user_profile') }}" class="btn btn-outline-primary w-100"> <i class="fas fa-user me-1"></i>Edit Profile </a> </div> <div class="col-md-3 col-sm-6"> <a href="{{ url_for('change_password') }}" class="btn btn-outline-warning w-100"> <i class="fas fa-key me-1"></i>Change Password </a> </div> <div class="col-md-3 col-sm-6"> <a href="{{ url_for('search_items') }}" class="btn btn-outline-info w-100"> <i class="fas fa-search me-1"></i>Search Items </a> </div> <div class="col-md-3 col-sm-6"> <a href="{{ url_for('browse_lost_items') }}" class="btn btn-outline-danger w-100"> <i class="fas fa-exclamation-triangle me-1"></i>Browse Lost </a> </div> </div> </div> </div> </div> </div> {% endblock %}



